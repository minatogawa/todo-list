<template name="todos">
	{{> addTodo}}
	<ul>
		{{#each todo}}
			{{> todoItem}}
		{{/each}}
	</ul>
		{{> countingTasks}}
</template>

<template name="todoItem">
	<li class="{{checked}}">
		<input type="checkbox" {{checked}}> 
		<input type="text" value="{{name}}" name="todoTask">
		[<a href="#" class="delete-todo">Delete</a>]
	</li>
</template>

<template name="addTodo">
	<form>
		Create task:
		<input type="text" placeholder="Type a task here..." name="todoName">
	</form>
</template>

<template name="countingTasks">
	{{#if totalTasks}}
		<h3>Total tasks: {{totalTasks}}</h3>
		<h3>Completed Tasks: {{completedTasks}}</h3>
	{{/if}}
</template>

<template name="register">
	<h2>Register</h2>
		<form class="register">
				<p>E-mail:<input type="email" placeholder="E-mail" name="email"></p>
				<p>Password:<input type="password" placeholder="Password" name="password"></p>
				<p><input type="submit" value="Register"></p>
		</form>
</template>

<template name="login">
	<h2>Login</h2>
	<form class="login">
		<p><input type="email" placeholder="E-mail" name="email" required></p>
		<p><input type="password" placeholder="Password" name="password" required></p>
		<p><input type="submit" value="Login"></p>
	</form>
</template>

<template name="home">
	<h2>Home</h2>
	<p>Welcome to the Todos application</p>
</template>

<template name="main">
	
	<h1>Todos</h1>
	{{> navigation}}
	{{#if currentUser}}
		{{> lists}}
	{{/if}}
	{{> yield}}
	<hr />
	<p>Copyright &copy; Todos, 2014-2015.</p>
</template>

<template name="navigation">
	<ul>
		<li><a href="{{pathFor route='home'}}">Home</a></li>
		{{#if currentUser}}
		<li><a href="#" class=logout>Logout</a></li>
		{{else}}
		<li><a href="{{pathFor route='register'}}">Register</a></li>
		<li><a href="{{pathFor route='login'}}">Login</a></li>
		{{/if}}
	</ul>
</template>

<template name="lists">
	<h2>Lists</h2>
	{{> addList}}
		<ul>
			{{#if Template.subscriptionsReady}}
				{{#each list}}
					<li><a href="{{pathFor route='listPage'}}">{{name}}</a>
					[<a href="#" class="delete-list">Delete</a>]</li>
				{{/each}}
			{{else}}
				<li>Loading...</li>
			{{/if}}
		</ul>
	
</template>

<template name="addList">
	<form>
		Create a list:
		<input type="text" placeholder="list name here..." name="listName">
	</form>
</template>

<template name="listPage">
	<h2>Tasks: {{name}} </h2>
	{{> todos}}
	
</template>

<template name="loading">
 <p>Loading...</p>
</template>